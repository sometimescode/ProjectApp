<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.5//EN"
    "http://struts.apache.org/dtds/struts-2.5.dtd">

<struts>

    <constant name="struts.devMode" value="true" />

    <package name="app" namespace="/" extends="struts-default">
        <action name="index">
            <result>index.jsp</result>
        </action>
        
        <action name="register" class="project.app.action.Register" method="execute">
            <result name="success">pages/register.jsp</result>
        </action>

        <action name="registerUser" class="project.app.action.Register" method="registerUser">
            <result name="success">pages/login.jsp</result>
            <result name="input">pages/register.jsp</result>
            <result name="error">pages/error.jsp</result>
        </action>

        <action name="login" class="project.app.action.Login" method="execute">
            <result name="success">pages/login.jsp</result>
        </action>

        <action name="loginAccount" class="project.app.action.Login" method="loginAccount">
            <result name="regular" type="redirectAction">catalog</result>
            <result name="admin" type="redirectAction">
                <param name="actionName">dashboard</param>
                <param name="namespace">/admin</param>
            </result>
            <result name="input">pages/login.jsp</result>
            <result name="error">pages/error.jsp</result>
        </action>

        <action name="catalog" class="project.app.action.Catalog" method="execute">
            <result name="success">pages/catalog.jsp</result>
        </action>

        <action name="book" class="project.app.action.Book" method="execute">
            <result name="success">pages/book.jsp</result>
        </action>

        <action name="searchBookFromDB" class="project.app.action.CatalogSearch">
            <result name="success">pages/searchResults.jsp</result>
        </action>

        <action name="requestCheckout" class="project.app.action.Book" method="submitCheckoutRequest">
            <result name="success" type="redirectAction">
                <param name="actionName">book</param>
                <param name="namespace">/</param>
            </result>
        </action>

        <action name="logout" class="project.app.action.Logout">
            <result name="success">index.jsp</result>
        </action>

        <action name="testBed" class="project.app.action.TestBed">
			<result name="success">pages/testBed.jsp</result>
		</action>

        <action name="imgUpload" class="project.app.action.TestBed" method="imgUpload">
			<result name="success">pages/testBed.jsp</result>
            <result name="error">pages/error.jsp</result>
		</action>

        <action name="getImg" class="project.app.action.TestBed" method="getImg">
			<result name="success">pages/testBed.jsp</result>
            <result name="error">pages/error.jsp</result>
		</action>
    </package>

    <package name="admin" namespace="/admin" extends="struts-default">
		<action name="dashboard" class="project.app.action.AdminPanel">
			<result name="success">pages/dashboard.jsp</result>
            <result name="error" type="redirectAction">
                <param name="actionName">index</param>
                <param name="namespace">/</param>
            </result>
		</action>

        <action name="manageBooks" class="project.app.action.AdminManageBooks">
			<result name="success">pages/books.jsp</result>
            <result name="error" type="redirectAction">
                <param name="actionName">index</param>
                <param name="namespace">/</param>
            </result>
		</action>

        <action name="addBookRedirect" class="project.app.action.AdminAddBook">
			<result name="success">pages/addBook.jsp</result>
            <result name="error">pages/error.jsp</result>
		</action>

        <action name="searchBookFromOpenLibrary" class="project.app.action.AdminAddBook" method="searchBookFromOpenLibrary">
			<result name="success">pages/addBook.jsp</result>
            <result name="error">pages/error.jsp</result>
		</action>

        <action name="editBookRedirect" class="project.app.action.AdminEditBook">
			<result name="success">pages/editBook.jsp</result>
            <result name="error">pages/error.jsp</result>
		</action>

        <action name="searchBookFromDB" class="project.app.action.AdminEditBook" method="searchBookFromDB">
			<result name="success">pages/editBook.jsp</result>
            <result name="error">pages/error.jsp</result>
		</action>

        <action name="addBookEntry" class="project.app.action.AdminAddBook" method="addBookEntry">
			<result name="success" type="redirectAction">
                <param name="actionName">getBookEntryById</param>
                <param name="namespace">/admin/book</param>
            </result>
            <result name="error">pages/error.jsp</result>
		</action>
	</package>

    <package name="adminBook" namespace="/admin/book" extends="struts-default">
		<action name="getBookEntryById" class="project.app.action.AdminBookEntry" method="getBookEntryById">
			<result name="success">pages/bookEntry.jsp</result>
            <result name="error">pages/error.jsp</result>
		</action>

        <action name="getBookEntryByISBN" class="project.app.action.AdminBookEntry" method="getBookEntryByISBN">
			<result name="success">pages/bookEntry.jsp</result>
            <result name="error">pages/error.jsp</result>
		</action>

        <action name="editBookEntryForm" class="project.app.action.AdminEditBook" method="getBookEntryByISBN">
			<result name="success">pages/editBookEntry.jsp</result>
            <result name="error">pages/error.jsp</result>
		</action>

        <action name="editBookEntryFormById" class="project.app.action.AdminEditBook" method="getBookEntryById">
			<result name="success">pages/editBookEntry.jsp</result>
            <result name="error">pages/error.jsp</result>
		</action>


        <action name="editBookEntry" class="project.app.action.AdminEditBook" method="editBookEntry">
            <result name="success" type="redirectAction">
                <param name="actionName">getBookEntryById</param>
                <param name="namespace">/admin/book</param>
            </result>
            <result name="error">pages/error.jsp</result>
		</action>

        <action name="addBookCopyRedirect" class="project.app.action.AdminBookCopy">
			<result name="success">pages/bookCopy.jsp</result>
            <result name="error">pages/error.jsp</result>
		</action>
        <action name="addBookCopy" class="project.app.action.AdminBookCopy" method="addBookCopy">
            <result name="success" type="redirectAction">
                <param name="actionName">getBookEntryById</param>
                <param name="namespace">/admin/book</param>
            </result>
            <result name="error">pages/error.jsp</result>
		</action>
	</package>
</struts>